<!-- Inicio-->
<!-- Main -->
<div class="flex flex-col sm:flex-row flex-0 sm:items-center sm:justify-between p-4 sm:px-10 border-b bg-card">
  <div class="max-w-12xl">
    <div class="row">
      <mat-toolbar color="warn">
        <div style="color: white; text-align: right">
          <h1>Registro del Contribuyente</h1>
        </div>
      </mat-toolbar>
    </div>
    <div class="mt-16 mb-8 text-12xl font-bold"><a [routerLink]="['/nsrtm-rate-payer-app']"
        routerLinkActive="router-link-active">Regresar</a></div>
    <form class="p-4 bg-card shadow rounded overflow-hidden" [formGroup]="verticalStepperForm">
      <mat-vertical-stepper [linear]="true" #verticalStepper>
        <mat-step [formGroupName]="'step1'" [stepControl]="verticalStepperForm.get('step1')" #verticalStepperStep1 class="background-color: coral;">

          <br>
          <br>
          <ng-template matStepLabel>Información del Contribuyente</ng-template>
          <p class="my-6 font-medium">
            Registro de la información básica del contribuyente
          </p>
          <div class="flex flex-col gt-xs:flex-row">
            <!-- Section -->
            <div appearance="fill">
            </div>
            <div class="example-container">
              <div class="col-span-2 sm:col-span-2">
                <mat-form-field appearance="fill">
                  <mat-label>Cod. Contribuyente</mat-label>
                  <input matInput name="contribuyenteNumero" id="contribuyenteNumero"
                    formControlName="contribuyenteNumero">
                </mat-form-field>

                <mat-form-field appearance="fill">
                  <mat-label>N° de Declaración</mat-label>
                  <input matInput name="nroDeclaracion" id="nroDeclaracion" formControlName="nroDeclaracion">
                </mat-form-field>

                <mat-form-field appearance="fill">
                  <mat-label>Fecha de Declaración</mat-label>
                  <input matInput [matDatepicker]="fechaDJ" formControlName="fechaDJ">
                  <mat-hint>DD/MM/YYYY </mat-hint>
                  <mat-datepicker-toggle matSuffix [for]="fechaDJ"></mat-datepicker-toggle>
                  <mat-datepicker #fechaDJ></mat-datepicker>
                  <mat-error> Error en el formato Ejm( DD/MM/YYYY ) </mat-error>
                </mat-form-field>

                <mat-form-field appearance="fill">
                  <mat-label>Tipo de Medio</mat-label>
                  <mat-select id="tipoMedioDeterminacionId" name="tipoMedioDeterminacionId"
                    formControlName="tipoMedioDeterminacionId">
                    <mat-option>-- Seleccionar Tipo de Medio Determinación --</mat-option>
                    <mat-option *ngFor="let mae of maestrosTipoMedio" [value]="mae.maestroId">
                      {{mae.descripcion}}
                    </mat-option>
                  </mat-select>
                </mat-form-field>


                <!-- Medio -->

                <mat-form-field appearance="fill">
                  <mat-label>Medio</mat-label>
                  <mat-select name="medioDeterminacionId" id="medioDeterminacionId"
                    formControlName="medioDeterminacionId">
                    <mat-select-filter [placeholder]="'Buscar'" [array]="variablesMedio" [displayMember]="'descripcion'"
                      (filteredReturn)="filteredListMedio=$event"></mat-select-filter>
                    <mat-option *ngFor="let mae of filteredListMedio" [value]="mae.maestroId">
                      {{mae.descripcion}}
                    </mat-option>
                  </mat-select>
                </mat-form-field>
              </div>
              <div class="col-span-2 sm:col-span-2">

                <mat-form-field appearance="fill">
                  <mat-label>Motivo</mat-label>
                  <mat-select name="motivoDjId" id="motivoDjId" formControlName="motivoDjId">
                    <mat-option> -- Seleccionar Motivo --</mat-option>
                    <mat-option *ngFor="let mae of maestrosMotivo" [value]="mae.maestroId">
                      {{mae.descripcion}}</mat-option>
                  </mat-select>
                  <mat-error> Option obligatoria </mat-error>
                </mat-form-field>

                <mat-form-field appearance="fill">
                  <mat-label>Modalidad de Oficio</mat-label>
                  <mat-select name="modalidadOficio" id="modalidadOficio" formControlName="modalidadOficio"
                    [(ngModel)]="sessionModalidadOficio" readonly>
                    <mat-option *ngFor="let mae of maestrosModalidadOficio" [value]="mae.maestroId">
                      {{mae.descripcion}}
                    </mat-option>
                  </mat-select>
                </mat-form-field>

                <!-- Contribuyente -->
                <mat-form-field appearance="fill">
                  <mat-label>Tipo de Contribuyente</mat-label>
                  <mat-select name="tipoPersonaId" id="tipoPersonaId" formControlName="tipoPersonaId">
                    <mat-option> -- Seleccionar Tipo Contribuyente --</mat-option>
                    <mat-option *ngFor="let mae of maestrosTipoContribuyente" [value]="mae.maestroId">
                      {{mae.descripcion}}</mat-option>
                  </mat-select>
                  <mat-error> Option obligatoria </mat-error>
                </mat-form-field>
                <mat-form-field appearance="fill">
                  <mat-label>Tipo de Documento</mat-label>
                  <mat-icon class="icon-size-5"  matPrefix>menu
                  </mat-icon>
                  <mat-select name="docIdentidadId" formControlName="docIdentidadId" id="docIdentidadId"
                    (valueChange)="validacionTipoDocumento($event)">
                    <mat-option> -- Seleccionar Tipo Documento --</mat-option>
                    <mat-option *ngFor="let mae of maestrosTipoDocumento" [value]="mae.maestroId">
                      {{mae.descripcion}}</mat-option>
                  </mat-select>
                  <mat-error> Option obligatoria </mat-error>
                </mat-form-field>
                <mat-form-field appearance="fill">
                  <mat-label>Número de Documento</mat-label>
                  <mat-icon class="icon-size-5" matPrefix>
                  </mat-icon>
                  <input matInput id="numDocIdentidad" formControlName="numDocIdentidad" name="numDocIdentidad">
                  <mat-error> {{msgTipoDocumento}}</mat-error>
                </mat-form-field>
              </div>
              <div class="col-span-2 sm:col-span-2">
                <mat-form-field appearance="fill">
                  <mat-label>Fecha de Presentación </mat-label>
                  <input matInput [matDatepicker]="fechaInscripcion" formControlName="fechaInscripcion">
                  <mat-hint>DD/MM/YYYY </mat-hint>
                  <mat-datepicker-toggle matSuffix [for]="fechaInscripcion"></mat-datepicker-toggle>
                  <mat-datepicker #fechaInscripcion></mat-datepicker>
                  <mat-error> Error en el formato Ejm( DD/MM/YYYY ) </mat-error>
                </mat-form-field>
                <mat-form-field appearance="fill">
                  <mat-label>Fecha de Nacimiento</mat-label>
                  <input matInput [matDatepicker]="fechaNacimiento" formControlName="fechaNacimiento">
                  <mat-hint>DD/MM/YYYY</mat-hint>
                  <mat-datepicker-toggle matSuffix [for]="fechaNacimiento"></mat-datepicker-toggle>
                  <mat-datepicker #fechaNacimiento></mat-datepicker>
                  <mat-error> Error en el formato Ejm( DD/MM/YYYY ) </mat-error>
                </mat-form-field>
                <mat-form-field appearance="fill">
                  <mat-label>Tipo de Estado</mat-label>
                  <mat-select id="estadoDjId" name="estadoDjId" formControlName="estadoDjId">
                    <mat-option>-- Seleccionar Estado --</mat-option>
                    <mat-option *ngFor="let mae of maestrosEstadoDj" [value]="mae.maestroId">
                      {{mae.descripcion}}
                    </mat-option>
                  </mat-select>
                </mat-form-field>
                <!-- Apellido  Paterno-->
                <mat-form-field appearance="fill">
                  <mat-label>Apellido Paterno</mat-label>
                  <input matInput name="apellidoPaterno" id="apellidoPaterno" formControlName="apellidoPaterno"
                    placeholder="Apellido paterno">
                  <mat-error> Ape. Paterno (Campo obligatorio) </mat-error>
                  <mat-error> Solo letras</mat-error>
                </mat-form-field>

                <!-- Apellido  Materno-->

                <mat-form-field appearance="fill">
                  <mat-label>Apellido Materno</mat-label>
                  <input matInput name="apellidoMaterno" id="apellidoMaterno" formControlName="apellidoMaterno"
                    placeholder="Apellido materno">
                  <mat-error> Ape. Materno (Campo obligatorio) </mat-error>
                  <mat-error> Solo letras</mat-error>
                </mat-form-field>



              </div>
            </div>
            <div class="example-container">
              <!-- Modalidad Oficio -->

              <!-- Numero de documento -->
              <div class="example-container">


                <mat-form-field appearance="fill">
                  <mat-label>Nombres</mat-label>
                  <input matInput name="nombres" id="nombres" formControlName="nombres" placeholder="nombres">
                  <mat-error> Ape. Materno (Campo obligatorio) </mat-error>
                  <mat-error> Solo letras</mat-error>
                </mat-form-field>


                <!-- Estado Civil-->

                <mat-form-field appearance="fill">
                  <mat-label>Estado Civil</mat-label>
                  <mat-select id="estadoCivil" name="estadoCivil" formControlName="estadoCivil">
                    <mat-option>-- Seleccionar Estado Civil --</mat-option>
                    <mat-option *ngFor="let mae of maestrosEstadoCivil" [value]="mae.maestroId">
                      {{mae.descripcion}}
                    </mat-option>
                  </mat-select>
                </mat-form-field>

                <mat-form-field appearance="fill">
                  <mat-label>Fallecido</mat-label>
                  <input matInput id="fallecido" name="fallecido" formControlName="fallecido">
                </mat-form-field>
                <!-- Fecha Fallecido-->

                <mat-form-field appearance="fill">
                  <mat-label>Fecha Fallecimiento</mat-label>
                  <input matInput id="fechaFallecimiento" name="fechaFallecimiento"
                    formControlName="fechaFallecimiento">
                  <!-- <div *ngIf="error && error.nombre"> {{error.nombre}}</div> -->
                </mat-form-field>

                <mat-form-field appearance="fill">
                  <mat-label>Razon Social</mat-label>
                  <input matInput name="razonSocial" id="razonSocial" formControlName="razonSocial">
                </mat-form-field>

              </div>
              <div class="col-span-4 sm:col-span-4">
                <!-- Segamentación -->
                <mat-form-field appearance="fill">
                  <mat-label>Segmentación</mat-label>
                  <input matInput name="segContribuyenteId" id="segContribuyenteId" formControlName="segContribuyenteId"
                    readonly="true">
                </mat-form-field>
              </div>
              <input hidden matInput name="usuarioCreacion" id="usuarioCreacion" formControlName="usuarioCreacion"
                value="2">
              <input hidden matInput name="terminalCreacion" id="terminalCreacion" formControlName="usuarioCreacion"
                value="192.168.1.2">
            </div>
          </div>
          <div class="flex justify-end">
            <button class="px-8" mat-flat-button [color]="'warn'" [disabled]="verticalStepperStep1.stepControl.pristine || verticalStepperStep1.stepControl.invalid" matStepperNext>
              Siguiente
            </button>
          </div>
          <!-- [disabled]="verticalStepperStep1.stepControl.pristine || verticalStepperStep1.stepControl.invalid" -->
          <!-- [stepControl]="verticalStepperForm.get('step2')" -->
        </mat-step>
        <mat-step [formGroupName]="'step2'"  [stepControl]="verticalStepperForm.get('step2')" #verticalStepperStep2>
          <ng-template matStepLabel>Condición del Contribuyente</ng-template>
          <p class="my-6 font-medium">
            Registro de la condición del contribuyente
          </p>
          <div class="flex flex-col gt-xs:flex-row">
            <!-- Section -->
            <div appearance="fill">
            </div>
            <div class="example-container">
              <!-- Condicion del Contribuyente-->
              <div class="example-container">
                <mat-form-field appearance="fill">
                  <mat-label>Condición del Contribuyente</mat-label>
                  <mat-select id="tipoCondicionInafectacionId" name="tipoCondicionInafectacionId"
                    formControlName="tipoCondicionInafectacionId" (valueChange)="validacionTipoContribuyente($event)">
                    <mat-option>-- Seleccionar Condición Contribuyente --</mat-option>
                    <mat-option *ngFor="let mae of maestrosCondicionTipoContribuyente" [value]="mae.maestroId">
                      {{mae.descripcion}}
                    </mat-option>
                  </mat-select>
                  <mat-error> Option obligatoria </mat-error>
                </mat-form-field>

                <!-- Tipo de documento-->
                <mat-form-field appearance="fill">
                  <mat-label>Tipo de Documento</mat-label>
                  <mat-select id="tipoDocumentoId" name="tipoDocumentoId" formControlName="tipoDocumentoId">
                    <mat-option>-- Seleccionar Tipo de Documento --</mat-option>
                    <mat-option *ngFor="let mae of maestroDocumentoTipo" [value]="mae.maestroId">
                      {{mae.descripcion}}
                    </mat-option>
                  </mat-select>
                  <mat-error> Option obligatoria </mat-error>
                </mat-form-field>

                <mat-form-field appearance="fill">
                  <mat-label>Número de Documento </mat-label>
                  <input matInput name="numeroDocumento" id="numeroDocumento" formControlName="numeroDocumento">
                  <mat-error> Option obligatoria </mat-error>
                </mat-form-field>

                <mat-form-field appearance="fill">
                  <mat-label>Fecha de Documento</mat-label>
                  <input matInput [matDatepicker]="fechaDocumento" formControlName="fechaDocumento">
                  <mat-hint>DD/MM/YYYY</mat-hint>
                  <mat-datepicker-toggle matSuffix [for]="fechaDocumento"></mat-datepicker-toggle>
                  <mat-datepicker #fechaDocumento></mat-datepicker>
                </mat-form-field>

                <mat-form-field appearance="fill">
                  <mat-label>Detalle del Documento </mat-label>
                  <input matInput name="desDocumento" id="desDocumento" formControlName="desDocumento">
                </mat-form-field>


              </div>
              <div class="example-container">
                <mat-form-field appearance="fill">
                  <mat-label>Fecha de Vigencia Inicio</mat-label>
                  <input matInput [matDatepicker]="fechaVigenciaInicial" formControlName="fechaVigenciaInicial">
                  <mat-hint>DD/MM/YYYY</mat-hint>
                  <mat-datepicker-toggle matSuffix [for]="fechaVigenciaInicial">
                  </mat-datepicker-toggle>
                  <mat-datepicker #fechaVigenciaInicial></mat-datepicker>
                  <mat-error> Error en el formato Ejm( DD/MM/YYYY ) </mat-error>
                </mat-form-field>

                <mat-form-field appearance="fill">
                  <mat-label>Fecha final </mat-label>
                  <input matInput [matDatepicker]="fechaVigenciaFinal" formControlName="fechaVigenciaFinal">
                  <mat-hint>DD/MM/YYYY</mat-hint>
                  <mat-datepicker-toggle matSuffix [for]="fechaVigenciaFinal"></mat-datepicker-toggle>
                  <mat-datepicker #fechaVigenciaFinal></mat-datepicker>
                  <mat-error> Error en el formato Ejm( DD/MM/YYYY ) </mat-error>
                </mat-form-field>

                <mat-form-field appearance="fill">
                  <mat-label>Importe Pension </mat-label>
                  <input matInput name="importePension" id="importePension" formControlName="importePension">
                </mat-form-field>

                <!-- Estado Id-->

                <mat-form-field appearance="fill">
                  <mat-label>Estado</mat-label>
                  <mat-select id="estadoId" name="estadoId" formControlName="estadoId">
                    <mat-option>-- Seleccionar Estado --</mat-option>
                    <mat-option *ngFor="let mae of maestroEstadoRegistroCondicion" [value]="mae.maestroId">
                      {{mae.descripcion}}
                    </mat-option>
                  </mat-select>
                </mat-form-field>

                <mat-form-field appearance="fill">
                  <mat-label>Número de Licencia </mat-label>
                  <input matInput name="numeroLicencia" id="numeroLicencia" formControlName="numeroLicencia">
                </mat-form-field>


              </div>

              <div class="example-container">
                <mat-form-field appearance="fill">
                  <mat-label>Numero de Expediente </mat-label>
                  <input matInput name="numeroExpediente" id="numeroExpediente" formControlName="numeroExpediente">
                </mat-form-field>

                <mat-form-field appearance="fill">
                  <mat-label>Fecha de Expediente</mat-label>
                  <input matInput [matDatepicker]="fechaExpediente" formControlName="fechaExpediente">
                  <mat-hint>DD/MM/YYYY</mat-hint>
                  <mat-datepicker-toggle matSuffix [for]="fechaExpediente"></mat-datepicker-toggle>
                  <mat-datepicker #fechaExpediente></mat-datepicker>
                  <mat-error> Error en el formato Ejm( DD/MM/YYYY ) </mat-error>
                </mat-form-field>
              </div>

            </div>
          </div>
          <br>
          <div class="flex justify-end">
            <button class="px-8 mr-2" mat-flat-button [color]="'warn'" type="button" matStepperPrevious>
              Atrás
            </button>
            <button class="px-8" mat-flat-button [color]="'warn'" type="button" [disabled]="verticalStepperStep2.stepControl.pristine || verticalStepperStep2.stepControl.invalid" matStepperNext>
              Siguiente
            </button>
          </div>
        </mat-step>
        <mat-step [formGroupName]="'step3'"  [stepControl]="verticalStepperForm.get('step3')" #verticalStepperStep3>
          <ng-template matStepLabel>Domicilio del Contribuyente</ng-template>
          <p class="my-6 font-medium">
            Registro del Domicilio del contribuyente
          </p>
          <div class="flex flex-col gt-xs:flex-row">
            <!-- Section -->
            <div appearance="fill">
            </div>
            <div class="example-container">
              <!-- Departamento -->
              <div class="col-span-2 sm:col-span-2">
                <mat-form-field appearance="fill">
                  <mat-label>Departamento</mat-label>
                  <mat-icon class="icon-size-5"   matPrefix>
                  </mat-icon>
                  <mat-select name="departamentoId" id="departamentoId" formControlName="departamentoId"
                    (valueChange)="maestroProvincia($event)" [(ngModel)]="sessionDepartamento">
                    <mat-option *ngFor="let mae of ubigeo" [value]="mae.departamentoId">
                      {{mae.descripcion}}
                    </mat-option>
                  </mat-select>
                  <mat-error> Option obligatoria </mat-error>
                </mat-form-field>

                <!-- Provincia -->

                <mat-form-field appearance="fill">
                  <mat-label>Provincia</mat-label>
                  <mat-icon class="icon-size-5"   matPrefix>
                  </mat-icon>
                  <mat-select name="provinciaId" id="provinciaId" formControlName="provinciaId"
                    (valueChange)="maestroDistrito($event)" [(ngModel)]="sessionProvincia">
                    <mat-option *ngFor="let pro of ubigeoProvincia" [value]="pro.provinciaId">
                      {{pro.descripcion}}</mat-option>
                  </mat-select>
                  <mat-error> Option obligatoria </mat-error>
                </mat-form-field>

                <mat-form-field appearance="fill">
                  <mat-label>Distrito</mat-label>
                  <mat-icon class="icon-size-5"   matPrefix>
                  </mat-icon>
                  <mat-select name="distritoId" id="distritoId" formControlName="distritoId"
                    [(ngModel)]="sessionDistrito">
                    <mat-option *ngFor="let dis of ubigeoDistrito" [value]="dis.distritoId">
                      {{dis.descripcion}}
                    </mat-option>
                  </mat-select>
                  <mat-error> Option obligatoria </mat-error>
                </mat-form-field>

                <mat-form-field appearance="fill">
                  <mat-label>Tipo Predio</mat-label>
                  <mat-icon class="icon-size-5"   matPrefix>
                  </mat-icon>
                  <mat-select name="tipoPredioId" id="tipoPredioId" formControlName="tipoPredioId"
                    [(ngModel)]="sessionTipoPredio">
                    <mat-option *ngFor="let tipopredio of maestroTipoPredio_Fiscal" [value]="tipopredio.maestroId">
                      {{tipopredio.descripcion}}
                    </mat-option>
                  </mat-select>
                </mat-form-field>

                <mat-form-field appearance="fill">
                  <mat-label>Fecha de declaración</mat-label>

                  <input matInput [matDatepicker]="fechaRegistro" formControlName="fechaRegistro">
                  <mat-hint>DD/MM/YYYY</mat-hint>
                  <mat-datepicker-toggle matSuffix [for]="fechaRegistro"></mat-datepicker-toggle>
                  <mat-datepicker #fechaRegistro></mat-datepicker>
                </mat-form-field>
              </div>
              <div class="example-container">
                <mat-form-field appearance="fill">
                  <mat-label>Tipo de Vía</mat-label>
                  <mat-icon class="icon-size-5"   matPrefix>
                  </mat-icon>
                  <mat-select name="tipoViaId" id="tipoViaId" formControlName="tipoViaId"
                    (valueChange)="listarVias($event)">
                    <mat-option *ngFor="let tipovias of maestroTipoVias" [value]="tipovias.maestroId">
                      {{tipovias.descripcion}}</mat-option>
                  </mat-select>
                </mat-form-field>

                <mat-form-field appearance="fill">
                  <mat-label>Vía</mat-label>
                  <mat-icon class="icon-size-5"   matPrefix>
                  </mat-icon>
                  <mat-select name="viaId" id="viaId" formControlName="viaId">
                    <mat-select-filter [placeholder]="'Buscar'" [array]="variablesViaId" [displayMember]="'descripcion'"
                      (filteredReturn)="filteredListViaId=$event"></mat-select-filter>
                    <mat-option *ngFor="let tipovias of filteredListViaId" [value]="tipovias.ubicacionId">
                      {{tipovias.descripcion}}</mat-option>
                  </mat-select>
                </mat-form-field>

                <mat-form-field appearance="fill">
                  <mat-label>Número 1</mat-label>
                  <input matInput name="numero1" id="numero1" formControlName="numero1">
                  <mat-error> Solo números </mat-error>
                </mat-form-field>

                <mat-form-field appearance="fill">
                  <mat-label>Letra 1</mat-label>
                  <input matInput name="letra1" id="letra1" formControlName="letra1">
                </mat-form-field>

                <mat-form-field appearance="fill">
                  <mat-label>Número 2</mat-label>
                  <input matInput name="numero2" id="numero2" formControlName="numero2">
                </mat-form-field>
              </div>
              <div class="example-container">
                <mat-form-field appearance="fill">
                  <mat-label>Letra 2</mat-label>
                  <input matInput name="letra2" id="letra2" formControlName="letra2">
                </mat-form-field>

                <mat-form-field appearance="fill">
                  <mat-label>Manzana</mat-label>
                  <input matInput name="mazana" id="manzana" formControlName="manzana">
                </mat-form-field>

                <mat-form-field appearance="fill">
                  <mat-label>Lote</mat-label>
                  <input matInput name="lote" id="lote" formControlName="lote">
                </mat-form-field>

                <mat-form-field appearance="fill">
                  <mat-label>Sub Lote</mat-label>
                  <input matInput name="subLote" id="subLote" formControlName="subLote">
                </mat-form-field>

                <mat-form-field appearance="fill">
                  <mat-label>Tipo Zona Urbana</mat-label>
                  <mat-icon class="icon-size-5"   matPrefix>
                  </mat-icon>
                  <mat-select name="zonaUrbanaId" id="zonaUrbanaId" formControlName="zonaUrbanaId"
                    (valueChange)="listarNombreZonaUrbana($event)">
                    <mat-option *ngFor="let tipozonzaurbana of maestrosTipoZonaUrbana"
                      [value]="tipozonzaurbana.maestroId">
                      {{tipozonzaurbana.descripcion}}
                    </mat-option>
                  </mat-select>
                </mat-form-field>


              </div>
              <div class="example-container">

                <mat-form-field appearance="fill">
                  <mat-label>Nombre Zona Urbana</mat-label>
                  <mat-icon class="icon-size-5"   matPrefix>
                  </mat-icon>
                  <mat-select name="nombreZonaUrbana" id="nombreZonaUrbana" formControlName="nombreZonaUrbana">
                    <mat-select-filter [placeholder]="'Buscar'" [array]="variablesZonaUrbanaId"
                      [displayMember]="'descripcion'" (filteredReturn)="filteredListZonaUrbanaId=$event">
                    </mat-select-filter>
                    <mat-option *ngFor="let nombrezonaurbana of filteredListZonaUrbanaId"
                      [value]="nombrezonaurbana.ubicacionId">
                      {{nombrezonaurbana.descripcion}}
                    </mat-option>
                  </mat-select>
                </mat-form-field>
                <mat-form-field appearance="fill">
                  <mat-label>Tipo Sub Zona</mat-label>
                  <mat-icon class="icon-size-5"   matPrefix>
                  </mat-icon>
                  <mat-select name="subZonaUrbanaId" id="subZonaUrbanaId" formControlName="subZonaUrbanaId"
                    (valueChange)="listarSubZonaUrbana($event)">
                    <mat-option *ngFor="let tiposubzona of maestrosTipoSubZona" [value]="tiposubzona.maestroId">
                      {{tiposubzona.descripcion}}
                    </mat-option>
                  </mat-select>
                </mat-form-field>

                <mat-form-field appearance="fill">
                  <mat-label>Nombre Sub Zona Urbana</mat-label>
                  <mat-icon class="icon-size-5"   matPrefix>
                  </mat-icon>
                  <mat-select name="nombreSubZonaUrbana" id="nombreSubZonaUrbana" formControlName="nombreSubZonaUrbana">
                    <mat-select-filter [placeholder]="'Buscar'" [array]="variablesNombreSubZonaUrbana"
                      [displayMember]="'descripcion'" (filteredReturn)="filteredListNombreSubZonaUrbana=$event">
                    </mat-select-filter>
                    <mat-option *ngFor="let nombresubzonaurbana of filteredListNombreSubZonaUrbana"
                      [value]="nombresubzonaurbana.ubicacionId">
                      {{nombresubzonaurbana.descripcion}}
                    </mat-option>
                  </mat-select>
                </mat-form-field>

                <mat-form-field appearance="fill">
                  <mat-label>Edificación</mat-label>
                  <mat-icon class="icon-size-5"   matPrefix>
                  </mat-icon>
                  <mat-select name="edificacionId" id="edificacionId" formControlName="edificacionId"
                    (valueChange)="listarEdificaciones($event)">

                    <mat-option *ngFor="let tipoedificacion of maestrosEdificacion" [value]="tipoedificacion.maestroId">
                      {{tipoedificacion.descripcion}}
                    </mat-option>
                  </mat-select>
                </mat-form-field>
                <mat-form-field appearance="fill">
                  <mat-label>Nombre de Edificación</mat-label>
                  <mat-icon class="icon-size-5"   matPrefix>
                  </mat-icon>
                  <mat-select name="nombreEdificacion" id="nombreEdificacion" formControlName="nombreEdificacion">
                    <mat-select-filter [placeholder]="'Buscar'" [array]="variablesEdificacionId"
                      [displayMember]="'descripcion'" (filteredReturn)="filteredListEdificacionId=$event">
                    </mat-select-filter>
                    <mat-option *ngFor="let nombreedificacion of filteredListEdificacionId"
                      [value]="nombreedificacion.ubicacionId">
                      {{nombreedificacion.descripcion}}
                    </mat-option>
                  </mat-select>
                </mat-form-field>


                <div class="example-container">
                  <mat-form-field appearance="fill">
                    <mat-label>Interior</mat-label>
                    <mat-icon class="icon-size-5"   matPrefix>
                    </mat-icon>
                    <mat-select name="tipoInteriorId" id="tipoInteriorId" formControlName="tipoInteriorId">
                      <mat-option *ngFor="let interior of maestrosInterior" [value]="interior.maestroId">
                        {{interior.descripcion}}
                      </mat-option>
                    </mat-select>
                  </mat-form-field>


                  <mat-form-field appearance="fill">
                    <mat-label>Piso</mat-label>
                    <input matInput name="piso" id="piso" formControlName="piso">
                  </mat-form-field>

                  <mat-form-field appearance="fill">
                    <mat-label>Ingreso</mat-label>
                    <input matInput name="ingreso" id="ingreso" formControlName="ingreso">
                  </mat-form-field>

                  <mat-form-field appearance="fill">
                    <mat-label>Km</mat-label>
                    <input matInput name="kilometro" id="kilometro" formControlName="kilometro">
                  </mat-form-field>

                  <mat-form-field appearance="fill">
                    <mat-label>Referencia</mat-label>
                    <input matInput name="referencia" id="referencia" formControlName="referencia">
                  </mat-form-field>

                </div>
              </div>

              <div class="example-container">
                <mat-form-field appearance="fill">
                  <mat-label>Latitud</mat-label>
                  <input matInput name="latitud" id="latitud" formControlName="latitud">
                </mat-form-field>

                <mat-form-field appearance="fill">
                  <mat-label>Longitud</mat-label>
                  <input matInput name="longitud" id="longitud" formControlName="longitud">
                </mat-form-field>
              </div>


              <input hidden="true" value="2025" name="usuarioCreacion" id="usuarioCreacion"
                formControlName="usuarioCreacion">
              <input hidden="true" value="192.168.1.1" name="terminalCreacion" id="terminalCreacion"
                formControlName="terminalCreacion">
              <input hidden="true" value="1" name="municipalidadId" id="municipalidadId"
                formControlName="municipalidadId">
            </div>

            <div class="flex justify-end">
              <button class="px-8 mr-2" mat-flat-button [color]="'warn'" type="button" matStepperPrevious>
                Atrás
              </button>
              <button class="px-8" mat-flat-button [color]="'warn'" type="button" [disabled]="verticalStepperStep3.stepControl.pristine || verticalStepperStep3.stepControl.invalid"  matStepperNext>
                Siguiente
              </button>
            </div>
          </div>
        </mat-step>
        <mat-step [formGroupName]="'step4'" [stepControl]="verticalStepperForm.get('step4')" #verticalStepperStep4>
          <ng-template matStepLabel>Información Adicional</ng-template>
          <p class="my-6 font-medium">
            Registro de Información Adicional
          </p>
          <div class="flex flex-col gt-xs:flex-row">
            <!-- Section -->
            <div appearance="fill">
            </div>
            <div class="example-container">
              <!-- Departamento -->
              <div class="example-container">
                <mat-form-field appearance="fill">
                  <mat-label>Departamento</mat-label>
                  <mat-icon class="icon-size-5"  matPrefix>menu
                  </mat-icon>
                  <mat-select name="departamentoId" id="departamentoId" formControlName="departamentoId"
                    (valueChange)="maestroProvincia($event)">
                    <mat-option>--Seleccione el departamento--</mat-option>
                    <mat-option *ngFor="let mae of ubigeo" [value]="mae.departamentoId">
                      {{mae.descripcion}}
                    </mat-option>
                  </mat-select>
                </mat-form-field>

                <!-- Procinvia -->

                <mat-form-field appearance="fill">
                  <mat-label>Provincia</mat-label>
                  <mat-icon class="icon-size-5"   matPrefix>
                  </mat-icon>
                  <mat-select name="provinciaId" id="provinciaId" formControlName="provinciaId"
                    (valueChange)="maestroDistrito($event)">
                    <mat-option *ngFor="let pro of ubigeoProvincia" [value]="pro.provinciaId">
                      {{pro.descripcion}}</mat-option>
                  </mat-select>
                </mat-form-field>

                <mat-form-field appearance="fill">
                  <mat-label>Distrito</mat-label>
                  <mat-icon class="icon-size-5"   matPrefix>
                  </mat-icon>
                  <mat-select name="distritoId" id="distritoId" formControlName="distritoId"
                    (valueChange)="getUbigeo($event)">
                    <mat-option *ngFor="let dis of ubigeoDistrito" [value]="dis.distritoId">
                      {{dis.descripcion}}
                    </mat-option>
                  </mat-select>
                </mat-form-field>

                <!--  ingresar region, provincia y distritro  -->
                <input hidden="true" name="descripcionDepartamentoId" id="descripcionDepartamentoId"
                  formControlName="descripcionDepartamentoId">
                <input hidden="true" name="descripcionProvinciaId" id="descripcionProvinciaId"
                  formControlName="descripcionProvinciaId">
                <input hidden="true" name="descripcionDistritoId" id="descripcionDistritoId"
                  formControlName="descripcionDistritoId">
                <input hidden="true" name="desTipoPredioId" id="desTipoPredioId" formControlName="desTipoPredioId">
                <input hidden="true" value="2025" name="usuarioCreacion" id="usuarioCreacion"
                  formControlName="usuarioCreacion">
                <input hidden="true" value="192.168.1.1" name="terminalCreacion" id="terminalCreacion"
                  formControlName="terminalCreacion">

                <mat-form-field appearance="fill">
                  <mat-label>Tipo Predio</mat-label>
                  <mat-icon class="icon-size-5"   matPrefix>
                  </mat-icon>
                  <mat-select name="tipoPredioId" id="tipoPredioId" formControlName="tipoPredioId"
                    (valueChange)="getTipoPredioId($event)">
                    <mat-option *ngFor="let tipopredio of maestroTipoPredio_Sin_Fiscal" [value]="tipopredio.maestroId">
                      {{tipopredio.descripcion}}
                    </mat-option>
                  </mat-select>
                </mat-form-field>

                <mat-form-field appearance="fill">
                  <mat-label>Tipo de Vía</mat-label>
                  <mat-icon class="icon-size-5"   matPrefix>
                  </mat-icon>
                  <mat-select name="tipoViaId" id="tipoViaId" formControlName="tipoViaId"
                    (valueChange)="listarVias($event)">
                    <mat-option *ngFor="let tipovias of maestroTipoVias" [value]="tipovias.maestroId">
                      {{tipovias.descripcion}}</mat-option>
                  </mat-select>
                </mat-form-field>
              </div>
              <div class="col-span-4 sm:col-span-2">
                <mat-form-field appearance="fill">
                  <mat-label>Vía</mat-label>
                  <mat-icon class="icon-size-5"   matPrefix>
                  </mat-icon>
                  <mat-select name="viaId" id="viaId" formControlName="viaId">
                    <mat-option *ngFor="let tipovias of listaVias" [value]="tipovias.ubicacionId">
                      {{tipovias.descripcion}}</mat-option>
                  </mat-select>
                </mat-form-field>
                <mat-form-field appearance="fill">
                  <mat-label>Número 1</mat-label>
                  <input matInput name="numero1" id="numero1" formControlName="numero1">
                </mat-form-field>
                <mat-form-field appearance="fill">
                  <mat-label>Letra 1</mat-label>
                  <input matInput name="letra1" id="letra1" formControlName="letra1">
                </mat-form-field>
                <mat-form-field appearance="fill">
                  <mat-label>Número 2</mat-label>
                  <input matInput name="numero2" id="numero2" formControlName="numero2">
                </mat-form-field>
                <mat-form-field appearance="fill">
                  <mat-label>Letra 2</mat-label>
                  <input matInput name="letra2" id="letra2" formControlName="letra2">
                </mat-form-field>

              </div>
              <div class="example-container">
                <mat-form-field appearance="fill">
                  <mat-label>Manzana</mat-label>
                  <input matInput name="mazana" id="manzana" formControlName="manzana">
                </mat-form-field>
                <mat-form-field appearance="fill">
                  <mat-label>Lote</mat-label>
                  <input matInput name="lote" id="lote" formControlName="lote">
                </mat-form-field>
                <mat-form-field appearance="fill">
                  <mat-label>Sub Lote</mat-label>
                  <input matInput name="subLote" id="subLote" formControlName="subLote">
                </mat-form-field>
                <mat-form-field appearance="fill">
                  <mat-label>Tipo Zona Urbana</mat-label>
                  <mat-icon class="icon-size-5"  matPrefix>menu
                  </mat-icon>
                  <mat-select name="zonaUrbanaId" id="zonaUrbanaId" formControlName="zonaUrbanaId"
                    (valueChange)="listarNombreZonaUrbana($event)">
                    <mat-option *ngFor="let tipozonzaurbana of maestrosTipoZonaUrbana"
                      [value]="tipozonzaurbana.maestroId">
                      {{tipozonzaurbana.descripcion}}
                    </mat-option>
                  </mat-select>
                </mat-form-field>
                <mat-form-field appearance="fill">
                  <mat-label>Nombre Zona Urbana</mat-label>
                  <mat-icon class="icon-size-5"  matPrefix>menu
                  </mat-icon>
                  <mat-select name="nombreZonaUrbana" id="nombreZonaUrbana" formControlName="nombreZonaUrbana">
                    <mat-option *ngFor="let nombrezonaurbana of listarZonaUrbana"
                      [value]="nombrezonaurbana.ubicacionId">
                      {{nombrezonaurbana.descripcion}}
                    </mat-option>
                  </mat-select>
                </mat-form-field>

              </div>
              <div class="example-container">

                <mat-form-field appearance="fill">
                  <mat-label>Tipo Sub Zona</mat-label>
                  <mat-icon class="icon-size-5"  matPrefix>
                  </mat-icon>
                  <mat-select name="subZonaUrbanaId" id="subZonaUrbanaId" formControlName="subZonaUrbanaId"
                    (valueChange)="listarSubZonaUrbana($event)">
                    <mat-option *ngFor="let tiposubzona of maestrosTipoSubZona" [value]="tiposubzona.maestroId">
                      {{tiposubzona.descripcion}}
                    </mat-option>
                  </mat-select>
                </mat-form-field>
                <mat-form-field appearance="fill">
                  <mat-label>Nombre Sub Zona Urbana</mat-label>
                  <mat-icon class="icon-size-5"  matPrefix>
                  </mat-icon>
                  <mat-select name="nombreSubZonaUrbana" id="nombreSubZonaUrbana" formControlName="nombreSubZonaUrbana">
                    <mat-option *ngFor="let nombresubzonaurbana of listaSubZona"
                      [value]="nombresubzonaurbana.ubicacionId">
                      {{nombresubzonaurbana.descripcion}}
                    </mat-option>
                  </mat-select>
                </mat-form-field>
                <mat-form-field appearance="fill">
                  <mat-label>Edificación</mat-label>
                  <mat-icon class="icon-size-5"  matPrefix>
                  </mat-icon>
                  <mat-select name="edificacionId" id="edificacionId" formControlName="edificacionId"
                    (valueChange)="listarEdificaciones($event)">
                    <mat-option *ngFor="let tipoedificacion of maestrosEdificacion" [value]="tipoedificacion.maestroId">
                      {{tipoedificacion.descripcion}}
                    </mat-option>
                  </mat-select>
                </mat-form-field>
                <mat-form-field appearance="fill">
                  <mat-label>Nombre de Edificación</mat-label>
                  <mat-icon class="icon-size-5"   matPrefix>
                  </mat-icon>
                  <mat-select name="nombreEdificacion" id="nombreEdificacion" formControlName="nombreEdificacion">
                    <mat-option *ngFor="let nombreedificacion of listaNombreEdificacion"
                      [value]="nombreedificacion.ubicacionId">
                      {{nombreedificacion.descripcion}}
                    </mat-option>
                  </mat-select>
                </mat-form-field>
                <mat-form-field appearance="fill">
                  <mat-label>Interior</mat-label>
                  <mat-icon class="icon-size-5"   matPrefix>
                  </mat-icon>
                  <mat-select name="tipoInteriorId" id="tipoInteriorId" formControlName="tipoInteriorId">
                    <mat-option *ngFor="let interior of maestrosInterior" [value]="interior.maestroId">
                      {{interior.descripcion}}
                    </mat-option>
                  </mat-select>
                </mat-form-field>
                <mat-form-field appearance="fill">
                  <mat-label>Piso</mat-label>
                  <input matInput name="piso" id="piso" formControlName="piso">
                </mat-form-field>
                <mat-form-field appearance="fill">
                  <mat-label>Ingreso</mat-label>
                  <input matInput name="ingreso" id="ingreso" formControlName="ingreso">
                </mat-form-field>

                <mat-form-field appearance="fill">
                  <mat-label>Km</mat-label>
                  <input matInput name="kilometro" id="kilometro" formControlName="kilometro">
                </mat-form-field>
                <mat-form-field appearance="fill">
                  <mat-label>Referencia</mat-label>
                  <input matInput name="referencia" id="referencia" formControlName="referencia">
                </mat-form-field>
                <mat-form-field appearance="fill">
                  <mat-label>Latitud</mat-label>
                  <input matInput name="latitud" id="latitud" formControlName="latitud">
                </mat-form-field>

              </div>


              <div class="example-container">

                <mat-form-field appearance="fill">
                  <mat-label>Longitud</mat-label>
                  <input matInput name="longitud" id="longitud" formControlName="longitud">
                </mat-form-field>
              </div>


              <div class="col-span-2 sm:col-span-2">
                <br>
                <br>
                <button class="float-left" mat-flat-button [color]="'warn'" (click)="addDomicilio()">
                  <mat-icon>add</mat-icon>
                </button>
              </div>
            </div>
            <!--  Inicio de la grilla  -->
            <div>
              <div class="flex flex-col flex-auto sm:mb-18 overflow-hidden sm:overflow-y-auto">
                <table class="mat-table">
                  <thead>
                    <th>Id</th>
                    <th>Región</th>
                    <th>Provincia</th>
                    <th>Distrito</th>
                    <th>Tipo Predio</th>
                    <th>Manzana</th>
                    <th>Lote</th>
                    <th>Editar</th>
                    <th>Eliminar</th>
                  </thead>
                  <tbody>
                    <tr *ngIf="classDomicilio.length==0">
                      <td colspan="6" class="text-center">No se registraron domicilios</td>
                    </tr>
                    <tr *ngFor="let domicilio of classDomicilio; let i = index">
                      <td class="text-center">{{i+1}}</td>
                      <td class="text-center">{{domicilio.descripcionDepartamentoId}}</td>
                      <td class="text-center">{{domicilio.descripcionProvinciaId}}</td>
                      <td class="text-center">{{domicilio.descripcionDistritoId}}</td>
                      <td class="text-center">{{domicilio.desTipoPredioId}}</td>
                      <td class="text-center">{{domicilio.manzana}}</td>
                      <td class="text-center">{{domicilio.lote}}</td>
                      <td class="mat-cell text-center">
                        <button mat-icon-button color=" warn" matTooltip="Editar"
                          (click)="editDomicilio(i,domicilio)">
                          <mat-icon>edit</mat-icon>
                        </button>
                      </td>
                      <td class="mat-cell text-center">
                        <button mat-icon-button color=" warn" matTooltip="Eliminar" (click)="eliminarDomicilio(i)">
                          <mat-icon>delete</mat-icon>
                        </button>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
            <!-- fin del inicio de la grilla  -->
            <div class="flex justify-end">
              <button class="px-8 mr-2" mat-flat-button [color]="'warn'" type="button" matStepperPrevious>
                Atrás
              </button>
              <button class="px-8" mat-flat-button [color]="'warn'" type="button" matStepperNext>
                Siguiente
              </button>
            </div>
          </div>
        </mat-step>
        <!--  Fin de informacion adicional-->
        <mat-step [formGroupName]="'step5'" #verticalStepperStep5>
          <ng-template matStepLabel>Registro del Relacionado</ng-template>
          <p class="my-6 font-medium">
            Registro de la información del Relacionado
          </p>
          <div class="flex flex-col gt-xs:flex-row">
            <!-- Section -->
            <div appearance="fill">
            </div>
            <div class="example-container">
              <div class="example-container">
                <mat-form-field appearance="fill">
                  <mat-label>Cod. Relacionado</mat-label>
                  <input matInput name="relContribuyenteNumero" id="relContribuyenteNumero"
                    formControlName="relContribuyenteNumero">
                </mat-form-field>

                <mat-form-field appearance="fill">
                  <mat-label>Tipo de Documento</mat-label>
                  <mat-icon class="icon-size-5"   matPrefix>
                  </mat-icon>
                  <mat-select name="docIdentidadId" id="docIdentidadId" formControlName="docIdentidadId">
                    <mat-option> -- Seleccionar Tipo Documento --</mat-option>
                    <mat-option *ngFor="let mae of maestrosTipoDocumento" [value]="mae.maestroId">
                      {{mae.descripcion}}</mat-option>
                  </mat-select>
                </mat-form-field>
                <!-- Numero de documento -->
                <mat-form-field appearance="fill">
                  <mat-label>Número de Documento</mat-label>
                  <mat-icon class="icon-size-5"  matPrefix>
                  </mat-icon>
                  <input matInput id="numDocIdentidad" name="numDocIdentidad" formControlName="numDocIdentidad">
                </mat-form-field>
                <mat-form-field appearance="fill">
                  <mat-label>Apellido Paterno</mat-label>
                  <input matInput name="apellidoPaterno" id="apellidoPaterno" formControlName="apellidoPaterno">
                </mat-form-field>
                <mat-form-field appearance="fill">
                  <mat-label>Apellido Materno</mat-label>
                  <input matInput name="apellidoMaterno" id="apellidoMaterno" formControlName="apellidoMaterno">
                </mat-form-field>
                <mat-form-field appearance="fill">
                  <mat-label>Nombres</mat-label>
                  <input matInput name="nombres" id="nombres" formControlName="nombres">
                </mat-form-field>

              </div>
              <div class="example-container">
                <mat-form-field appearance="fill">
                  <mat-label>Tipo de Relación</mat-label>
                  <mat-select name="tipoRelacionadoId" id="tipoRelacionadoId" formControlName="tipoRelacionadoId">
                    <mat-option>-- Seleccionar tipo de relación --</mat-option>
                    <mat-option *ngFor="let listatiporelacion of maestroTipoRelacion "
                      [value]="listatiporelacion.maestroId">
                      {{listatiporelacion.descripcion}}
                    </mat-option>
                  </mat-select>
                </mat-form-field>
                <mat-form-field appearance="fill">
                  <mat-label>Razon Social</mat-label>
                  <input matInput name="razonSocial" id="razonSocial" formControlName="razonSocial">
                </mat-form-field>
                <!-- Fecha de Inicio -->
                <mat-form-field appearance="fill">
                  <mat-label>Fecha de Inicio</mat-label>
                  <input matInput [matDatepicker]="fechaVigenciaInicialRela" formControlName="fechaVigenciaInicialRela">
                  <mat-hint>DD/MM/YYYY </mat-hint>
                  <mat-datepicker-toggle matSuffix [for]="fechaVigenciaInicialRela">
                  </mat-datepicker-toggle>
                  <mat-datepicker #fechaVigenciaInicialRela></mat-datepicker>
                </mat-form-field>
                <!-- Fecha fin -->
                <mat-form-field appearance="fill">
                  <mat-label>Fecha Final</mat-label>
                  <input matInput [matDatepicker]="fechaVigenciaFinalRela" formControlName="fechaVigenciaFinalRela">
                  <mat-hint>DD/MM/YYYY </mat-hint>
                  <mat-datepicker-toggle matSuffix [for]="fechaVigenciaFinalRela">
                  </mat-datepicker-toggle>
                  <mat-datepicker #fechaVigenciaFinalRela></mat-datepicker>
                </mat-form-field>
                <mat-form-field appearance="fill">
                  <mat-label>Departamento</mat-label>
                  <mat-icon class="icon-size-5"   matPrefix>
                  </mat-icon>
                  <mat-select name="departamentoId" id="departamentoId" formControlName="departamentoId"
                    (valueChange)="maestroProvincia($event)">
                    <mat-option>--Seleccione el departamento--</mat-option>
                    <mat-option *ngFor="let mae of ubigeo" [value]="mae.departamentoId">
                      {{mae.descripcion}}
                    </mat-option>
                  </mat-select>
                </mat-form-field>
                <!-- Procinvia -->
                <mat-form-field appearance="fill">
                  <mat-label>Provincia</mat-label>
                  <mat-icon class="icon-size-5"   matPrefix>
                  </mat-icon>
                  <mat-select name="provinciaId" id="provinciaId" formControlName="provinciaId"
                    (valueChange)="maestroDistrito2($event)">
                    <mat-option *ngFor="let pro of ubigeoProvincia" [value]="pro.provinciaId">
                      {{pro.descripcion}}</mat-option>
                  </mat-select>
                </mat-form-field>
                <mat-form-field appearance="fill">
                  <mat-label>Distrito</mat-label>
                  <mat-icon class="icon-size-5"   matPrefix>
                  </mat-icon>
                  <mat-select name="distritoId" id="distritoId" formControlName="distritoId">
                    <mat-option *ngFor="let dis of ubigeoDistrito" [value]="dis.distritoId">
                      {{dis.descripcion}}
                    </mat-option>
                  </mat-select>
                </mat-form-field>

                <mat-form-field appearance="fill">
                  <mat-label>Tipo Predio</mat-label>
                  <mat-icon class="icon-size-5"   matPrefix>
                  </mat-icon>
                  <mat-select name="tipoPredioId" id="tipoPredioId" formControlName="tipoPredioId">
                    <mat-option *ngFor="let tipopredio of maestroTipoPredio" [value]="tipopredio.maestroId">
                      {{tipopredio.descripcion}}
                    </mat-option>
                  </mat-select>
                </mat-form-field>
                <mat-form-field appearance="fill">
                  <mat-label>Tipo de Vía</mat-label>
                  <mat-icon class="icon-size-5"   matPrefix>
                  </mat-icon>
                  <mat-select name="tipoViaId" id="tipoViaId" formControlName="tipoViaId"
                    (valueChange)="listarVias2($event)">
                    <mat-option *ngFor="let tipovias of maestroTipoVias" [value]="tipovias.maestroId">
                      {{tipovias.descripcion}}</mat-option>
                  </mat-select>
                </mat-form-field>
                <mat-form-field appearance="fill">
                  <mat-label>Vía</mat-label>
                  <mat-icon class="icon-size-5"   matPrefix>
                  </mat-icon>
                  <mat-select name="viaId" id="viaId" formControlName="viaId">
                    <mat-option *ngFor="let tipovias of listaVias" [value]="tipovias.ubicacionId">
                      {{tipovias.descripcion}}</mat-option>
                  </mat-select>
                </mat-form-field>

              </div>

              <input hidden="true" value="15" name="viaDepartamentoId" id="viaDepartamentoId"
                formControlName="viaDepartamentoId">
              <input hidden="true" value="135" name="viaProvinciaId" id="viaProvinciaId"
                formControlName="viaProvinciaId">
              <input hidden="true" value="121" name="viaDistritoId" id="viaDistritoId" formControlName="viaDistritoId">
              <input hidden="true" value="2025" name="usuarioCreacion" id="usuarioCreacion"
                formControlName="usuarioCreacion">
              <input hidden="true" value="192.168.1.1" name="terminalCreacion" id="terminalCreacion"
                formControlName="terminalCreacion">
              <input hidden="true" value="1" name="municipalidadId" id="municipalidadId"
                formControlName="municipalidadId">


              <div class="example-container">
                <mat-form-field appearance="fill">
                  <mat-label>Número 1</mat-label>
                  <input matInput name="numero1" id="numero1" formControlName="numero1">
                </mat-form-field>
                <mat-form-field appearance="fill">
                  <mat-label>Número 2</mat-label>
                  <input matInput name="numero2" id="numero2" formControlName="numero2">
                </mat-form-field>

                <mat-form-field appearance="fill">
                  <mat-label>Letra 1</mat-label>
                  <input matInput name="letra1" id="letra1" formControlName="letra1">
                </mat-form-field>
                <mat-form-field appearance="fill">
                  <mat-label>Letra 2</mat-label>
                  <input matInput name="letra2" id="letra2" formControlName="letra2">
                </mat-form-field>
                <mat-form-field appearance="fill">
                  <mat-label>Manzana</mat-label>
                  <input matInput name="mazana" id="manzana" formControlName="manzana">
                </mat-form-field>

              </div>

              <div class="example-container">
                <mat-form-field appearance="fill">
                  <mat-label>Lote</mat-label>
                  <input matInput name="lote" id="lote" formControlName="lote">
                </mat-form-field>
                <mat-form-field appearance="fill">
                  <mat-label>Sub Lote</mat-label>
                  <input matInput name="subLote" id="subLote" formControlName="subLote">
                </mat-form-field>

                <mat-form-field appearance="fill">
                  <mat-label>Tipo Zona Urbana</mat-label>
                  <mat-icon class="icon-size-5"   matPrefix>
                  </mat-icon>
                  <mat-select name="tipoZonaUrbanaId" id="tipoZonaUrbanaId"
                    (valueChange)="listarNombreZonaUrbana2($event)">
                    <mat-option *ngFor="let tipozonzaurbana of maestrosTipoZonaUrbana"
                      [value]="tipozonzaurbana.maestroId">
                      {{tipozonzaurbana.descripcion}}
                    </mat-option>
                  </mat-select>
                </mat-form-field>
                <mat-form-field appearance="fill">
                  <mat-label>Nombre Zona Urbana</mat-label>
                  <mat-icon class="icon-size-5"   matPrefix>
                  </mat-icon>
                  <mat-select name="zonaUrbanaId" id="zonaUrbanaId" formControlName="zonaUrbanaId">
                    <mat-option *ngFor="let nombrezonaurbana of listarZonaUrbana"
                      [value]="nombrezonaurbana.ubicacionId">
                      {{nombrezonaurbana.descripcion}}
                    </mat-option>
                  </mat-select>
                </mat-form-field>
                <mat-form-field appearance="fill">
                  <mat-label>Tipo Sub Zona</mat-label>
                  <mat-icon class="icon-size-5"   matPrefix>
                  </mat-icon>
                  <mat-select name="subZonaUrbanaId" id="subZonaUrbanaId" formControlName="subZonaUrbanaId"
                    (valueChange)="listarSubZonaUrbana2($event)">
                    <mat-option *ngFor="let tiposubzona of maestrosTipoSubZona" [value]="tiposubzona.maestroId">
                      {{tiposubzona.descripcion}}
                    </mat-option>
                  </mat-select>
                </mat-form-field>

              </div>
              <div class="example-container">
                <mat-form-field appearance="fill">
                  <mat-label>Nombre Sub Zona Urbana</mat-label>
                  <mat-icon class="icon-size-5"   matPrefix>
                  </mat-icon>
                  <mat-select name="zonaUrbanaId" id="zonaUrbanaId" formControlName="zonaUrbanaId">
                    <mat-option *ngFor="let nombresubzonaurbana of listaSubZona"
                      [value]="nombresubzonaurbana.ubicacionId">
                      {{nombresubzonaurbana.descripcion}}
                    </mat-option>
                  </mat-select>
                </mat-form-field>
                <mat-form-field appearance="fill">
                  <mat-label>Edificación</mat-label>
                  <mat-icon class="icon-size-5"   matPrefix>
                  </mat-icon>
                  <mat-select name="edificacionId" id="edificacionId" formControlName="edificacionId"
                    (valueChange)="listarEdificaciones2($event)">
                    <mat-option *ngFor="let tipoedificacion of maestrosEdificacion" [value]="tipoedificacion.maestroId">
                      {{tipoedificacion.descripcion}}
                    </mat-option>
                  </mat-select>
                </mat-form-field>
                <mat-form-field appearance="fill">
                  <mat-label>Nombre de Edificación</mat-label>
                  <mat-icon class="icon-size-5"   matPrefix>
                  </mat-icon>
                  <mat-select name="edificacionId" id="edificacionId" formControlName="edificacionId">
                    <mat-option *ngFor="let nombreedificacion of listaNombreEdificacion"
                      [value]="nombreedificacion.ubicacionId">
                      {{nombreedificacion.descripcion}}
                    </mat-option>
                  </mat-select>
                </mat-form-field>
                <mat-form-field appearance="fill">
                  <mat-label>Interior</mat-label>
                  <mat-icon class="icon-size-5"   matPrefix>
                  </mat-icon>
                  <mat-select name="tipoInteriorId" id="tipoInteriorId" formControlName="tipoInteriorId">
                    <mat-option *ngFor="let interior of maestrosInterior" [value]="interior.maestroId">
                      {{interior.descripcion}}
                    </mat-option>
                  </mat-select>
                </mat-form-field>
                <mat-form-field appearance="fill">
                  <mat-label>Piso</mat-label>
                  <input matInput name="piso" id="piso" formControlName="piso">
                </mat-form-field>
                <mat-form-field appearance="fill">
                  <mat-label>Ingreso</mat-label>
                  <input matInput name="ingreso" id="ingreso" formControlName="ingreso">
                </mat-form-field>
                <mat-form-field appearance="fill">
                  <mat-label>Km</mat-label>
                  <input matInput name="kilometro" id="kilometro" formControlName="kilometro">
                </mat-form-field>
                <mat-form-field appearance="fill">
                  <mat-label>Referencia</mat-label>
                  <input matInput name="referencia" id="referencia" formControlName="referencia">
                </mat-form-field>
              </div>

            </div>
            <div class="flex justify-end">
              <button class="px-8 mr-2" mat-flat-button [color]="'warn'" type="button" matStepperPrevious>
                Atrás
              </button>
              <button class="px-8" mat-flat-button [color]="'warn'" type="button" matStepperNext>
                Siguiente
              </button>
            </div>
          </div>
        </mat-step>
        <mat-step [formGroupName]="'step6'" #verticalStepperStep5 class="background-color: coral;">
          <ng-template matStepLabel>Información del Contacto</ng-template>
          <p class="font-medium">
            Registro de la información del Contacto
          </p>
          <div class="flex flex-col gt-xs:flex-row">
            <div class="grid grid-cols-12 gap-10 w-full mt-2">
              <!-- Tipo de Contacto -->
              <div class="col-span-3 sm:col-span-3">
                <mat-form-field appearance="fill">
                  <mat-label>Tipo de Contacto</mat-label>
                  <mat-select id="tipoMedioContactoId" name="tipoMedioContactoId" formControlName="tipoMedioContactoId"
                    (valueChange)="getTipoMedioContactoId($event)">
                    <mat-option value="">-- Seleccionar --</mat-option>
                    <mat-option *ngFor="let mae of maestrosTipoContacto " [value]="mae.maestroId">
                      {{mae.descripcion}}
                    </mat-option>
                  </mat-select>
                  <mat-error *ngIf="errorValidator('step6','tipoMedioContactoId','required')"> Campo
                    obligatorio </mat-error>
                </mat-form-field>
                <!-- Medio de Contacto -->
                <mat-form-field appearance="fill">
                  <mat-label>Medio de Contacto</mat-label>
                  <mat-select name="claseMedioContactoId" id="claseMedioContactoId"
                    formControlName="claseMedioContactoId" (selectionChange)="getClaseMedioContactoId($event)">
                    <mat-option value=""> -- Seleccionar --</mat-option>
                    <mat-option *ngFor="let mae of  maestrosTipoMedioContacto" [value]="mae.maestroId">
                      {{mae.descripcion}}
                    </mat-option>
                  </mat-select>
                  <mat-error *ngIf="errorValidator('step6','claseMedioContactoId','required')"> Campo
                    obligatorio </mat-error>
                </mat-form-field>
                <mat-form-field appearance="fill">
                  <mat-label>Detalle</mat-label>
                  <input matInput name="desMedioContacto" id="desMedioContacto" formControlName="desMedioContacto">
                  <mat-error *ngIf="errorValidator('step6','desMedioContacto','required')"> Campo
                    obligatorio </mat-error>
                  <mat-error
                    *ngIf="valueControlStep('step6','tipoMedioContactoId') == 1 && errorValidator('step6','desMedioContacto','pattern')">
                    Formato inválido del teléfono fijo</mat-error>
                  <mat-error
                    *ngIf="valueControlStep('step6','tipoMedioContactoId') == 2 && errorValidator('step6','desMedioContacto','pattern')">
                    Formato inválido del celular</mat-error>
                  <mat-error
                    *ngIf="valueControlStep('step6','tipoMedioContactoId') == 3 && errorValidator('step6','desMedioContacto','pattern')">
                    Formato inválido del correo electrónico</mat-error>
                </mat-form-field>
              </div>

              <div class="col-span-2 sm:col-span-2">
                <br>
                <br>
                <div class="mat-form-field">
                  <mat-checkbox name="principal" id="principal" formControlName="principal">
                    Principal</mat-checkbox>
                </div>

                <input hidden="true" value="" name="desTipoMedioContacto" id="desTipoMedioContacto"
                  formControlName="desTipoMedioContacto">
                <input hidden="true" value="" name="desClaseMedioContacto" id="desClaseMedioContacto"
                  formControlName="desClaseMedioContacto">
                <input hidden="true" value="2025" name="usuarioCreacion" id="usuarioCreacion"
                  formControlName="usuarioCreacion">
                <input hidden="true" value="192.168.1.1" name="terminalCreacion" id="terminalCreacion"
                  formControlName="terminalCreacion">
                <input hidden="true" value="1" name="municipalidadId" id="municipalidadId"
                  formControlName="municipalidadId">
              </div>

              <div class="col-span-1 sm:col-span-1">

                <br>
                <br>
                <button class="float-left" mat-flat-button [color]="'warn'" (click)="addContacto()">
                  <mat-icon>add</mat-icon>
                </button>


              </div>

            </div>



            <div>
              <div class="flex flex-col flex-auto sm:mb-18 overflow-hidden sm:overflow-y-auto">
                <table class="mat-table">
                  <thead>
                    <th>Id</th>
                    <th>Tipo de Medio</th>
                    <th>Clase de Medio</th>
                    <th>Descripción</th>
                    <th>Editar</th>
                    <th>Eliminar</th>
                  </thead>
                  <tbody>
                    <tr *ngIf="classContacto.length==0">
                      <td colspan="6" class="text-center">No se registraron contactos</td>
                    </tr>
                    <tr *ngFor="let contacto of classContacto; let i = index">
                      <td class="text-center">{{i+1}}</td>
                      <td class="text-center">{{contacto.desTipoMedioContacto}}</td>
                      <td class="text-center">{{contacto.desClaseMedioContacto}}</td>
                      <td class="text-center">{{contacto.desMedioContacto}}</td>
                      <td class="mat-cell text-center">
                        <button mat-icon-button color="warn" matTooltip="Editar" (click)="editContacto(i, contacto)">
                          <mat-icon>edit</mat-icon>
                        </button>
                      </td>
                      <td class="mat-cell text-center">
                        <button mat-icon-button color="warn" matTooltip="Eliminar" (click)="eliminarContacto(i)">
                          <mat-icon>delete</mat-icon>
                        </button>
                      </td>
                    </tr>
                  </tbody>
                </table>

              </div>


            </div>

            <div class="flex justify-end">
              <button class="px-8" mat-flat-button [color]="'warn'" type="button" [disabled]="classContacto.length==0" matStepperNext
              >
                Siguiente
              </button>
              <!-- [disabled]="classContacto.length==0" -->
            </div>
          </div>
        </mat-step>
        <mat-step [formGroupName]="'step7'" #verticalStepperStep6 class="background-color: coral;">
          <ng-template matStepLabel>Documentos de Sustento</ng-template>
          <p class="font-medium">
            Registro de documentos de sustento
          </p>

          <div class="flex flex-col gt-xs:flex-row">


            <div class="grid grid-cols-12 gap-10 w-full mt-2">
              <div class="col-span-4 sm:col-span-4">
                <table class="mat-table">
                  <thead>
                    <th>N°</th>
                    <th>Documento</th>
                    <th>Seleccionar</th>
                  </thead>
                  <tbody>
                    <tr *ngIf="classContacto.length==0">
                      <td colspan="3" class="text-center"></td>
                    </tr>
                    <tr *ngFor="let maestro of maestrosTipoDocSustento; let i = index">
                      <td class="text-center">{{i+1}}</td>
                      <td class="text-center">{{maestro.descripcion}}</td>
                      <td class="text-center">
                        <mat-radio-button [color]="'warn'" [value]="maestro.maestroId" name="tipoDocSustentoId"
                          (change)="changeTipoDocSustento($event)"
                          [checked]="maestro.maestroId == valueControlStep('step7','tipoDocSustentoId')">
                        </mat-radio-button>
                      </td>
                    </tr>
                  </tbody>
                </table>
                <div>
                  <mat-error *ngIf="errorValidator('step7','tipoDocSustentoId','required')">Seleccione
                    el Documento</mat-error>
                </div>
              </div>

              <!-- Tipo de Contacto -->
              <div class="col-span-2 sm:col-span-2">
                <mat-form-field appearance="fill">
                  <mat-label>N° documento</mat-label>
                  <input matInput name="nroDocSustento" id="nroDocSustento" formControlName="nroDocSustento">
                  <mat-error *ngIf="errorValidator('step7','nroDocSustento','required')"> Campo
                    obligatorio </mat-error>
                </mat-form-field>


                <!-- Medio de Contacto -->
                <mat-form-field appearance="fill">
                  <mat-label>Folios</mat-label>
                  <input matInput name="folios" id="folios" formControlName="folios">
                  <mat-error *ngIf="errorValidator('step7','folios','required')"> Campo obligatorio
                  </mat-error>
                </mat-form-field>
                <mat-form-field appearance="fill">
                  <mat-label>Forma presentación</mat-label>
                  <mat-select name="tipoFormaPresentacionId" id="tipoFormaPresentacionId"
                    formControlName="tipoFormaPresentacionId">
                    <mat-option value=""> -- Seleccionar --</mat-option>
                    <mat-option *ngFor="let mae of  maestrosFormaPresentacion" [value]="mae.maestroId">
                      {{mae.descripcion}}
                    </mat-option>
                  </mat-select>
                  <mat-error *ngIf="errorValidator('step6','desMedioContacto','required')"> Campo
                    obligatorio </mat-error>
                </mat-form-field>
                <input hidden="true" value="" name="desTipoDocSustento" id="desTipoDocSustento"
                  formControlName="desTipoDocSustento">
                <input hidden="true" value="" name="desTipoFormaPresentacion" id="desTipoFormaPresentacion"
                  formControlName="desTipoFormaPresentacion">
                <input hidden="true" value="2025" name="usuarioCreacion" id="usuarioCreacion"
                  formControlName="usuarioCreacion">
                <input hidden="true" value="192.168.1.1" name="terminalCreacion" id="terminalCreacion"
                  formControlName="terminalCreacion">
                <input hidden="true" value="1" name="municipalidadId" id="municipalidadId"
                  formControlName="municipalidadId">
              </div>

              <div class="col-span-1 sm:col-span-1">

                <br>
                <br>
                <button class="float-left" mat-flat-button [color]="'warn'" (click)="addDocSustento()">
                  <mat-icon>add</mat-icon>
                </button>
              </div>
            </div>
            <div>
              <div class="flex flex-col flex-auto sm:mb-18 overflow-hidden sm:overflow-y-auto">
                <table class="mat-table">
                  <thead>
                    <th>N°</th>
                    <th>Documento</th>
                    <th>N° documento</th>
                    <th>Folios</th>
                    <th>Tipo presentación</th>
                    <th>Acciones</th>
                  </thead>
                  <tbody>
                    <tr *ngIf="classDocSustento.length==0">
                      <td colspan="6" class="text-center"></td>
                    </tr>
                    <tr *ngFor="let doc of classDocSustento; let i = index">
                      <td class="text-center">{{i+1}}</td>
                      <td class="text-center">{{doc.desTipoDocSustento}}</td>
                      <td class="text-center">{{doc.nroDocSustento}}</td>
                      <td class="text-center">{{doc.folios}}</td>
                      <td class="text-center">{{doc.desTipoFormaPresentacion}}</td>
                      <td>
                        <button mat-icon-button color=" warn" matTooltip="Editar" (click)="editarDocSustento(i, doc)">
                          <mat-icon>edit</mat-icon>
                        </button>
                        <button mat-icon-button color=" warn" matTooltip="Eliminar" (click)="eliminarDocSustento(i)">
                          <mat-icon>delete</mat-icon>
                        </button>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
            <div class="flex justify-end">
              <button class="px-8" mat-flat-button [color]="'warn'" type="button"  matStepperNext
               >
                Siguiente
              </button>
              <!-- [disabled]="classContacto.length==0" -->
            </div>
          </div>
        </mat-step>
        <mat-step>
          <ng-template matStepLabel>Enviar</ng-template>
          <p class="my-6 font-medium">
            La información ha sido registrada correctamente! Puede enviar el regitro a Grabar o a resetear.
          </p>
          <div class="flex justify-end mt-8">
            <button class="px-8 mr-2" mat-flat-button [color]="'warn'" type="button" matStepperPrevious>
              Atrás
            </button>
            <button class="px-8" mat-flat-button [color]="'warn'" type="reset" (click)="contribuyenteCrear();">
              Enviar
            </button>
          </div>
        </mat-step>

      </mat-vertical-stepper>
    </form>


  </div>

</div>















<!-- Wizard Fin-->
